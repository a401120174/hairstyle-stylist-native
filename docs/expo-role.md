# Expo 的角色

## 概述

在 Hairstyle Stylist Native 專案中，Expo 作為 React Native 開發平台，提供了完整的跨平台移動應用開發解決方案。它簡化了開發流程，提供了豐富的原生功能 API，並支援快速部署和分發。

## 核心功能

### 1. 開發平台基礎

**Expo SDK：**
- 提供統一的 React Native 開發環境
- 包含豐富的原生模組和 API
- 簡化跨平台開發的複雜性

**開發工具：**
- **Expo CLI**：專案管理和構建工具
- **Expo Go**：開發階段的實時預覽應用
- **熱更新**：開發時即時程式碼更新

### 2. 路由系統 (Expo Router)

**檔案基礎路由：**
- 基於檔案系統的自動路由生成
- 支援巢狀路由和動態路由
- 類似 Next.js 的開發體驗

**導航管理：**
- 聲明式的頁面導航
- 自動處理返回手勢和硬體按鈕
- 支援深層連結和通用連結

### 3. 原生功能整合

**圖片處理 (expo-image-picker)：**
- 相機拍照功能
- 相簿選擇功能
- 圖片權限管理
- 跨平台的統一 API

**內購功能 (expo-in-app-purchases)：**
- iOS App Store 內購整合
- 產品資訊查詢
- 購買流程管理
- 收據驗證支援

**儲存服務 (AsyncStorage)：**
- 本地資料持久化
- 鍵值對儲存系統
- 跨應用重啟的資料保存

### 4. 應用配置管理

**應用資訊設定：**
- 應用名稱、圖示、啟動畫面
- 版本號和構建配置
- 支援的裝置方向

**平台特定配置：**
- **iOS 配置**：支援 iPad、圖示設定
- **Android 配置**：自適應圖示、權限設定
- **Web 配置**：打包器設定、輸出格式

## 技術特點

### 1. 開發效率

**快速開始：**
- 零配置的開發環境
- 內建的 TypeScript 支援
- 自動的依賴管理

**統一開發體驗：**
- 一套程式碼支援多平台
- 統一的 API 介面
- 簡化的原生功能存取

### 2. 構建和部署

**EAS Build：**
- 雲端構建服務
- 支援自訂原生程式碼
- 自動化的 CI/CD 流程

**OTA 更新：**
- 線上熱更新機制
- 無需重新提交應用商店
- 快速修復和功能更新

### 3. 開發工具

**除錯支援：**
- React DevTools 整合
- Flipper 調試器支援
- 遠端除錯功能

**測試工具：**
- Jest 測試框架整合
- Expo 特定的測試工具
- 模擬器和實機測試

## 專案中的應用

### 1. 專案結構

**Expo Router 檔案組織：**
```
app/
├── _layout.tsx          # 根布局組件
├── index.tsx           # 首頁
└── credits-store.tsx   # 點數商店頁面
```

**元件組織：**
- 頁面級別組件在 `app/` 目錄
- 可重用組件在 `components/` 目錄
- 工具函數在 `hooks/` 和 `services/` 目錄

### 2. 原生功能實作

**圖片選擇功能：**
- 整合相機和相簿存取
- 圖片壓縮和格式轉換
- 權限請求和錯誤處理

**內購系統：**
- 產品列表獲取
- 購買流程管理
- 收據驗證和伺服器同步

### 3. 狀態管理

**Context API 整合：**
- 全域認證狀態管理
- 點數系統狀態同步
- 用戶偏好設定儲存

**本地儲存：**
- 用戶設定的持久化
- 離線資料快取
- 應用狀態恢復

## 配置特點

### 1. Metro 配置

**打包器設定：**
- 自訂的資源解析規則
- TypeScript 編譯整合
- 程式碼分割和最佳化

### 2. 平台適配

**響應式設計：**
- 支援不同螢幕尺寸
- 平台特定的 UI 組件
- 自適應的布局系統

**原生整合：**
- 平台特定的功能實作
- 原生模組的橋接
- 硬體功能的存取

## 優勢

1. **快速開發**：豐富的內建功能和 API
2. **跨平台一致性**：統一的開發體驗和 API
3. **社群支援**：活躍的開發者社群和豐富的文件
4. **持續更新**：定期的功能更新和安全修復
5. **企業就緒**：支援大規模應用的開發和部署

## 限制與考量

1. **包大小**：Expo SDK 可能增加應用大小
2. **原生依賴**：某些第三方原生模組可能需要 Expo Dev Client
3. **平台限制**：部分平台特定功能可能需要額外配置
4. **版本同步**：需要保持 Expo SDK 版本的一致性